
<div >

<!--  <div class="row">
    <div class="span10"><img src='<%=@img_url%>'/></div>
	<div class="span1" id="qqwb_share__" data-appkey="801249859" data-icon="0" data-counter="0" data-content="我最近的体重曲线" data-richcontent=".." data-pic="<%=@img_url%>"></div>
  </div>-->
  <div class="row">
    <div class="span10" id="container" ></div>
<div class="span1" id="qqwb_share__" data-appkey="801249859" data-icon="0" data-counter="0" data-content="我最近的体重曲线" data-richcontent=".." data-pic="<%=@img_url%>"></div>
  </div>
<div class="row">
  <div class="span12"><%= link_to '填写', new_loseweight_path,:class=>"btn btn-info" %></div>

</div>	
<table class="table ">
	<thead>
  <tr>
    <th>重量</th>
    <th>日期</th>
	<th>填写时间</th>
	<th width="25%">
		备注
	</th>
    <th width="20%"></th>
  </tr>
</thead>
<tbody>
<% @loseweights.each do |loseweight| %>
  <tr>
    <td><%= loseweight.weight %></td>
    <td><%= loseweight.update_date %></td>
	<td><%= if(loseweight.gmt_create)
		loseweight.gmt_create.strftime('%Y-%m-%d %H:%M:%S') 
		end %></td>
	<td><%= loseweight.remark %></td>
    <td><%= link_to loseweight,:class=>"btn btn-mini btn-info" do %>
          <i class="icon-info-sign icon-white"></i> 显示
          <% end %>
    <%= link_to edit_loseweight_path(loseweight),:class=>"btn btn-mini" do %>
          <i class="icon-refresh"></i> 编辑
    <% end %>
	<%= link_to  loseweight, confirm: '你确定要删除吗?', method: :delete ,:class=>"btn btn-mini" do%>
		 <i class="icon-delete"></i> 删除
	<% end %>
	</td>
  </tr>
<% end %>
</tbody>
</table>
<p><%=will_paginate @loseweights%></p>
<br />
</div>


<script type="text/javascript">
$(function () {
    var chart;
       $(document).ready(function() {
           chart = new Highcharts.Chart({
               chart: {
                   renderTo: 'container',
                   type: 'spline',
				   backgroundColor: '#b2d9f3'
               },
               title: {
                   text: ''
               },
               subtitle: {
                   text: '我的体重曲线'
               },
               xAxis: {
				 categories:<%=@time.to_json.html_safe%>,
				labels:{step:<%=@step%>}
               },
               yAxis: {
                   title: {
                       text: '体重 (kg)'
                   },
				   max: <%=@data.max+1%>,
                   min: <%=@data.min-1%>,
                   minorGridLineWidth: 0,
                   gridLineWidth: 1,
                   alternateGridColor: null
               },
               tooltip: {
                   formatter: function() {
                           return ''+
                          this.x +': '+ this.y +' kg';
                   }
               },
               plotOptions: {
                   spline: {
                       lineWidth: 4,
                       states: {
                           hover: {
                               lineWidth: 5
                           }
                       },
                       marker: {
                           enabled: false,
                           states: {
                               hover: {
                                   enabled: true,
                                   symbol: 'circle',
                                   radius: 5,
                                   lineWidth: 1
                               }
                           }
                       }
                      
                   }
               },
               series: [{
                   name: '<%=session[:userInfo]['nickname']%>',
                   data: <%=@data%>
    
               }]
               ,
               navigation: {
                   menuItemStyle: {
                       fontSize: '10px'
                   }
               }
           });
       });
    
   });
		</script>